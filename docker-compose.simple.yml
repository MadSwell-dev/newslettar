# =============================================================================
# Newslettar - Simple Docker Installer
# =============================================================================
# QUICK START:
#   wget https://raw.githubusercontent.com/agencefanfare/newslettar/main/docker-compose.simple.yml
#   nano docker-compose.simple.yml  # Edit your settings below
#   docker compose -f docker-compose.simple.yml up -d
#
# Access: http://localhost:8080
# =============================================================================

services:
  newslettar:
    image: agencefanfare/newslettar:latest
    container_name: newslettar
    restart: unless-stopped
    ports:
      - "8080:8080"
    environment:
      # === REQUIRED: Sonarr Configuration ===
      SONARR_URL: "http://192.168.1.100:8989"
      SONARR_API_KEY: "your-sonarr-api-key-here"

      # === REQUIRED: Radarr Configuration ===
      RADARR_URL: "http://192.168.1.100:7878"
      RADARR_API_KEY: "your-radarr-api-key-here"

      # === REQUIRED: Email Configuration ===
      # For Gmail: smtp.gmail.com:587 (use App Password, not regular password)
      # For Mailgun: smtp.mailgun.org:587
      # For SendGrid: smtp.sendgrid.net:587
      SMTP_HOST: "smtp.gmail.com"
      SMTP_PORT: "587"
      SMTP_USER: "your-email@gmail.com"
      SMTP_PASS: "your-app-password-here"
      FROM_EMAIL: "newsletter@yourdomain.com"
      FROM_NAME: "Media Newsletter"
      TO_EMAILS: "family@example.com,friends@example.com"

      # === OPTIONAL: Schedule Configuration ===
      TIMEZONE: "America/New_York"
      SCHEDULE_DAY: "Sun"
      SCHEDULE_TIME: "09:00"

      # === OPTIONAL: Trakt.tv Integration ===
      # Get your Client ID from https://trakt.tv/oauth/applications
      # TRAKT_CLIENT_ID: "your-trakt-client-id-here"

      # === OPTIONAL: Newsletter Display Options ===
      SHOW_POSTERS: "true"
      SHOW_DOWNLOADED: "true"
      SHOW_SERIES_OVERVIEW: "true"
      SHOW_EPISODE_OVERVIEW: "false"
      DARK_MODE: "false"

      # === OPTIONAL: Trakt Trending Content ===
      # SHOW_TRAKT_ANTICIPATED_SERIES: "true"
      # SHOW_TRAKT_WATCHED_SERIES: "true"
      # SHOW_TRAKT_ANTICIPATED_MOVIES: "true"
      # SHOW_TRAKT_WATCHED_MOVIES: "true"
      # TRAKT_ANTICIPATED_SERIES_LIMIT: "5"
      # TRAKT_WATCHED_SERIES_LIMIT: "5"

      # === OPTIONAL: Web UI Port ===
      WEBUI_PORT: "8080"

# =============================================================================
# NETWORKING:
# =============================================================================
# Linux:   Use host IP: SONARR_URL: "http://192.168.1.100:8989"
# Mac/Win: Use: SONARR_URL: "http://host.docker.internal:8989"
#
# =============================================================================
# COMMANDS:
# =============================================================================
# View logs:  docker compose -f docker-compose.simple.yml logs -f
# Stop:       docker compose -f docker-compose.simple.yml stop
# Restart:    docker compose -f docker-compose.simple.yml restart
# =============================================================================
